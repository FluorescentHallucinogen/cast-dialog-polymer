<!--
Copyright 2014 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<!DOCTYPE html>
<html>
<head>
  <script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>
  <link rel="import" href="bower_components/cast-manager-polymer/cast-manager.html">
  <link rel="import"
        href="bower_components/cast-video-polymer/cast-video.html">
        <link rel="import"
        href="bower_components/cast-controller-bar-polymer/cast-controller-bar.html">
 
  <style>
    cast-video {
      display: block;
      margin: 20px auto;
      height: 666px;
      width: 1184px;
    }
  </style>
</head>
<body>
  <template id="t" is="dom-bind">
    <cast-manager app-id="4F8B3483"
                  local-media="{{localMedia}}"
                  volume="{{volume}}"
                  current-time="{{currentTime}}"
                  is-fullscreen="{{isFullscreen}}"
                  cast-available="{{castAvailable}}"
                  connection-status="{{connectionStatus}}"
                  show-spinner="{{showSpinner}}"
                  has-cast-media="{{hasCastMedia}}"
                  cast-device-name="{{castDeviceName}}">
      <cast-video id="video"
                        local-media="{{localMedia}}"
                        volume="{{volume}}"
                        current-time="{{currentTime}}"
                        is-fullscreen="{{isFullscreen}}"
                        cast-available="[[castAvailable]]"
                        connection-status="[[connectionStatus]]"
                        show-spinner="[[showSpinner]]"
                        cast-device-name="[[castDeviceName]]"></cast-video>
      <div style="min-height:1080px;"></div>
      <cast-controller-bar volume="[[volume]]"
         local-media="[[localMedia]]"
         cast-available="[[castAvailable]]"
         connection-status="[[connectionStatus]]"
         has-cast-media="[[hasCastMedia]]"
         cast-device-name="[[castDeviceName]]"
         current-time="[[currentTime]]"
         video-element="video"
         scroll-element="body"></cast-controller-bar>
    </cast-manager>
  </template>
  <script>
    var media = {
      "title": "Big Buck Bunny",
      "description": "Fusce id nisi turpis. Praesent viverra bibendum semper. Donec tristique, orci sed semper lacinia, quam erat rhoncus massa, non congue tellus est quis tellus. Sed mollis orci venenatis quam scelerisque accumsan. Curabitur a massa sit amet mi accumsan mollis sed et magna. Vivamus sed aliquam risus. Nulla eget dolor in elit facilisis mattis. Ut aliquet luctus lacus. Phasellus nec commodo erat. Praesent tempus id lectus ac scelerisque. Maecenas pretium cursus lectus id volutpat.",
      "url": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
      "studio": "Blender Foundation",
      "thumbnailImageUrl": "//commondatastorage.googleapis.com/gtv-videos-bucket/sample/images_480x270/BigBuckBunny.jpg",
      "largeImageUrl": "//commondatastorage.googleapis.com/gtv-videos-bucket/sample/images_780x1200/BigBuckBunny-780x1200.jpg"
    };

    var castManager;
    var t = document.querySelector('#t');
    t.addEventListener('dom-change', function () {
      castManager = document.querySelector('cast-manager');
      castManager.setLocalMedia(media);
    });
  </script>
</body>
</html>
